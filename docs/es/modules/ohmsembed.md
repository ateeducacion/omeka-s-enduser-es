# OHMS Embed El módulo [OHMS Embed](https://omeka.org/s/modules/OhmsEmbed/){target=_blank} permite a los administradores de sitios añadir objetos [Oral History Metadata Synchonizer](https://www.oralhistoryonline.org/){target=_blank} como medios a los elementos Omeka S. Este módulo añadirá un visor OHMS a los lugares donde se puedan incrustar medios, permitiendo a los usuarios ver índices, transcripciones y/o traducciones de vídeos y audio mientras se reproducen. 

(modulesfiles/ohmsembed_public.png) Los archivos XML OHMS pueden cargarse en los elementos Omeka como medios. Sin este módulo, aparecerán como archivos adjuntos disponibles para su descarga. Con este módulo instalado y activado, aparecerán como visualizaciones de vídeo/audio con transcripciones, índices, etc. 

El reproductor multimedia OHMS puede aparecer en las páginas de artículos y multimedia, y puede colocarse en las páginas del sitio Omeka con el bloque de página "Media embed". Preparar tu instalación Omeka para recibir archivos OHMS puede llevar algo de trabajo, e incluye algunos pasos opcionales para mejorar el proceso. Lea detenidamente los siguientes pasos antes de realizar cualquier acción, para que pueda configurar su instalación correctamente en función de sus necesidades específicas. 

## Crear archivos OHMS Para crear paquetes OHMS con sus entrevistas, debe utilizar la aplicación OHMS disponible en el [sitio web de OHMS](https://www.oralhistoryonline.org/){target=_blank}, lo que requiere solicitar una cuenta gratuita y trabajar con la aplicación basada en web. 

La aplicación OHMS generará archivos XML que contendrán toda la información creada con dicha herramienta. 

Los archivos OHMS incluyen un enlace a los medios de vídeo o audio que se presentarán junto con el índice y los textos. No incluyen el propio archivo multimedia. Éste debe alojarse en otro lugar. Sus opciones de alojamiento incluyen Youtube, Vimeo, Soundcloud y otros proveedores de alojamiento de audio/vídeo. 

### Aloje sus archivos multimedia en Omeka (opcional) Puede alojar sus archivos dentro de su instalación de Omeka, como archivos multimedia añadidos a elementos, y luego proporcionar las URL de esos archivos a los paquetes OHMS que genere. 

Esto significa que debe 

- crear elementos de Omeka introduciendo sus archivos multimedia mediante carga manual o un proceso de búsqueda masiva - recopilar las URL de sus archivos multimedia del servidor Omeka - proporcionar esas URL a la aplicación OHMS - generar los archivos XML en Omeka - y luego añadir esos archivos XML a los respectivos elementos que ya ha creado.

Las ventajas de este enfoque incluyen la simplicidad del autoalojamiento y el mantenimiento del control sobre su propiedad intelectual, además de las características de las propiedades de Linked Data, los tipos de datos y los vocabularios controlados que puede utilizar para añadir metadatos específicos de los medios de comunicación directamente en Omeka. Una vez que haya cargado su audio o vídeo en un elemento, tendrá que localizar la URL directa del archivo. Ve a tu elemento y haz clic en el medio que quieras utilizar. En la descripción de la parte derecha de la pantalla, localiza la sección Derivados del archivo. El enlace "Original" será el que proporcione a la aplicación OHMS. Puede hacer clic con el botón derecho del ratón para copiar esta URL.](modulesfiles/ohmsembed_original.png) En la aplicación OHMS, utilice "Host" como opción "Media File Host". Introduzca la URL del archivo original en la instalación de Omeka S como "Media URL". 

![Imagen de la pantalla del editor de metadatos OHMS centrada en la sección Media and Technical, mostrando Host seleccionado entre las opciones y la URL de un archivo original en la propiedad Media URL](modulesfiles/ohmsembed_ohms_mediahost.png) Cuando el paquete de historia oral esté completo, exporte su archivo XML OHMS como de costumbre. ![Vista de registro OHMS con la opción Export XML disponible.)(../modules/modulesfiles/ohmsembed_ohms_xmlexport.png) Cuando vuelva al elemento Omeka S correspondiente y cargue el archivo XML como medio, asegúrese de que el archivo XML sea el medio principal del elemento. ## Añadir archivos OHMS a Omeka El editor OHMS produce un archivo XML que contiene los metadatos, el índice y la transcripción que acompañan a la historia oral. El archivo debe añadirse a un elemento Omeka S como medio para que aparezca el visor OHMS. 

Normalmente, XML no se encuentra entre los tipos de medios y extensiones de archivo permitidos en una instalación de Omeka S. Tendrás que habilitarlo primero. 

### Vaya a la página de configuración de su instalación y vaya a la sección de seguridad. 

- Añada `text/xml` a la lista de **Tipos de medios permitidos** - Añada `xml` a la lista de **Extensiones de archivo permitidas**. 

![Vista de la configuración de seguridad para Tipos de medios permitidos y Extensiones de archivo permitidas con XML añadido a las listas.](../modules/modulesfiles/ohmsembed_xmlsettings.png) Cuando haya terminado, haga clic en el botón "Guardar" situado en la esquina superior derecha de la pantalla.

### Configurar la extracción de metadatos (opcional) Utilizando el módulo [Extract Metadata](extractmetadata.md), puede rellenar los campos de metadatos de sus elementos Omeka con información de los archivos XML - título, fecha, duración, fuente, etc. 

En primer lugar, actualiza el módulo Extract Metadata a la versión 1.2.0 o posterior. Esto añadirá un extractor específico de OHMS a las herramientas disponibles (la herramienta de extracción de OHMS es en realidad parte de este módulo, y no aparecerá si OHMS Embed no está instalado y activado). 

Vaya a la página Módulos, asegúrese de que está actualizado y activado y, a continuación, haga clic en el botón "Configurar". Verá una lista de herramientas de extracción disponibles, entre las que debería figurar "OHMS". Marque la casilla para asegurarse de que está activada y, a continuación, guarde la página. 

(modulesfiles/ohmsembed_extractmetadata.png) A continuación, para asignar información de los metadatos XML a tus elementos Omeka, activa "JSON Pointer" en la pestaña "Mappers". A continuación, ve a la pestaña "JSON Pointer crosswalk" para configurar los campos de metadatos, ya sea para el medio o para el elemento. Los metadatos extraídos se generarán como texto sin formato. Le recomendamos que vea un paquete OHMS de ejemplo y compruebe qué campos se utilizan. 

También le sugerimos que utilice una plantilla de recursos para sus archivos OHMS, para ayudarle a planificar los campos de metadatos seleccionados. ![Página de configuración del módulo Extract Metadata con "OHMS" activado](modulesfiles/ohmsembed_EMcrosswalk.png) La siguiente es una lista de posibles punteros generados por la aplicación OHMS (asegúrese de incluir la barra en la interfaz de Omeka):

| Metadata | Pointer | |-----------------------------|-----------------------------| | Interview Date | `/date` | | Date (Non-formato no preferido) | `/date_nonpreferred_format` | Título | `/title` | Resumen | `/description` | Asunto | `/subject` | Palabras clave | `/keyword` | Entrevistado | `/interviewee` | Entrevistador | `/interviewer` | Idioma | `/language` | Idioma de traducción | `/transcript_alt_lang` | Tipo                        | `/type` | | Format | `/format` | Rights Statement | `/rights` | | Usage Statment | `/usage` | | Accession Number | `/accession` | | Duration | `/duration` | | Collection ID | `/collection_id` | | Collection Name | `/collection_name` | | Collection Link | `/collection_link` | | Series ID                   | `/series_id` | | Series (Name) | `/series_name` | | Series Link | `/series_link` | | Organization | `/repository` | | Organization URL | `/repository_url` | | Acknowledgement | `/funding` | | User Notes | `/user_notes` | | Media file | `/file_name` | | Media ID | `/media_id` | | Media URL                   | `/media_url` | | Media Format | `/fmt` | OHMS XML Location | `/xmllocation` | | OHMS XML Filename | `/xmlfilename` | OHMS version | `/version` | | CMS Record ID | `/cms_record_id` | | Record ID | `/id` | | Record date | `/dt` | | Rel | `/rel` | ### ¡Suba archivos XML!!! nota Si utiliza el módulo [Extraer texto](extracttext.md), puede que desee desactivarlo antes de subir un archivo XML. El contenido de estos archivos no es legible. Si desea que el contenido de sus textos OHMS (transcripciones, traducciones, índices, etc.) se pueda buscar en su sitio Omeka, puede extraer el texto con este módulo, pero todo el código XML será visible como metadatos en sus elementos y soportes. Puede ocultar este campo utilizando el módulo [Ocultar propiedades](https://omeka.org/s/modules/HideProperties/){target=_blank}, que afectará a este campo en todos los recursos. 

Puede cargar sus archivos XML OHMS individualmente a los elementos desde su ordenador, o puede importar por lotes archivos OHMS a elementos nuevos o existentes utilizando [CSV Import](csvimport.md). 

nota: Omeka S no podrá generar una miniatura de artículo a partir de archivos OHMS. Si lo desea, puede añadir una [miniatura personalizada](https://omeka.org/s/docs/user-manual/content/items/#thumbnail) accediendo a la pestaña Avanzado de la interfaz de edición de elementos. #### Importación masiva de archivos OHMS Si está interesado en añadir muchos objetos OHMS a su instalación de Omeka S de una sola vez, es posible utilizar [CSV Import](csvimport.md). También puede utilizar [File Sideload](filesideload.md) para alojar los archivos XML para su ingesta si es necesario. Cargue los archivos XML en su servicio de alojamiento o en el directorio File Sideload. A continuación, cree una hoja de cálculo con las URL de los archivos y los metadatos que desea ingerir. Si planea extraer todos los metadatos de los archivos XML, puede proporcionar exclusivamente una columna de URL de archivos. Si ya ha creado elementos Omeka S para [alojar medios de audio/vídeo](#host-your-media-in-omeka-optional), busque un identificador único de elementos Omeka para adjuntar los archivos respectivos (como el ID interno de Omeka) y añada esos ID a las filas de su hoja de cálculo. A continuación, utiliza el módulo CSV Import para [importar medios](https://omeka.org/s/docs/user-manual/modules/csvimport/#import-media). Si aún no tienes elementos Omeka de destino, puedes utilizar CSV Import para crear nuevos elementos con tus archivos XML. 

#### Extracción masiva de archivos OHMS Tenga en cuenta que no es necesario ejecutar tanto Extraer metadatos como Extraer texto en el momento de la importación. Puede desactivar los módulos, importar primero los archivos XML y, a continuación, realizar la extracción masiva de texto y metadatos. 

Seleccione varios elementos en la página de búsqueda de elementos de la interfaz de administración, elija "Editar seleccionados" en el menú desplegable "Acciones por lotes" y, a continuación, busque el campo "Extraer metadatos" en la lista de opciones. Seleccione "Actualizar y asignar metadatos". Vuelva a hacer lo mismo, busque "Extraer texto" en la lista y seleccione "Actualizar texto". ## Incrustar el visor OHMS Una vez añadidos los archivos XML OHMS a los elementos de Omeka S, ya puede mostrarlos en sus sitios. 

### El visor OHMS se cargará en [páginas de recursos (elementos y medios)](../sites/site_theme.md#configure-resource-pages) si su tema está configurado para mostrar el bloque "Media embeds" en las páginas de elementos, y el bloque "Media render" en las páginas de medios. 

(modulesfiles/ohmsembed_itemRes.png) !!! nota El bloque de galería Lightbox no muestra actualmente el visor OHMS cuando se detecta un archivo XML OHMS. Para que OHMS se muestre, el bloque "Media embeds" o "Media render" **debe** ser utilizado. Es posible que su sitio necesite alguna reconfiguración para incorporar esto sin problemas, en lugar de incluir tanto el bloque "Lightbox" como el bloque "Media" y, por lo tanto, tener otros medios renderizados dos veces. 

### Visor OHMS en las páginas del sitio Puede utilizar el bloque de página ["Media embed"](https://omeka.org/s/docs/user-manual/sites/site_pages/#media-embed) para colocar el visor OHMS directamente en las páginas del sitio. 

(modulesfiles/ohmsembed_mediaEmbed.png) Debe seleccionar el archivo XML como medio adjunto - no elija vídeo o audio que pueda haber ingestado en el mismo elemento. Asegúrese también de que "Incrustar medios" está seleccionado en el menú desplegable "Visualización de medios". ![Vista de página con el bloque Incrustar medios con el visor OHMS en la primera columna y HTML de ejemplo en la segunda columna](modulesfiles/ohmsembed_public_mediaembed.png) El visor OHMS se mostrará como una columna alta y estrecha si el Diseño está configurado como "Vertical", y el visor OHMS de ancho completo se mostrará si el Diseño está configurado como "Horizontal". 

![Item Show view of Omeka S Item with OHMS viewer](modulesfiles/ohmsembed_public_itemshow.png) #### Usando el visor OHMS El visor OHMS de Omeka S tiene varios controles públicos: un conmutador entre el índice y la transcripción y/o traducción si esos elementos están disponibles, un icono de información que muestra los metadatos de los medios, y una opción para moverse a una vista de pantalla completa.

![Controles de la interfaz pública del visor OHMS de Omeka S que muestran un conmutador entre índice/transcripción/traducción, y un icono "i" y un botón de pantalla completa](../modules/modulesfiles/ohmsembed_public_controllers.png)
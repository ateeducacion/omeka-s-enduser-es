# Conector de repositorio de datos El [módulo Conector de repositorio de datos](https://omeka.org/s/modules/DataRepositoryConnector/){target=_blank} permite a los usuarios importar registros y/o archivos de datos desde varias plataformas de repositorio de datos diferentes: Dataverse, Zenodo, Invenio y CKAN. Una vez importados, estos elementos se pueden actualizar en cualquier momento volviendo a ejecutar la importación original desde la página Importaciones anteriores. El conector de repositorio de datos añade una entrada en el menú Módulos de la izquierda. Al hacer clic en el nombre del módulo o en el icono con el signo más a la izquierda, el menú se expandirá para mostrar los enlaces de las cuatro opciones de importación. El módulo se abre por defecto en la página Importaciones anteriores.

![Menú de navegación que muestra las opciones del Conector de repositorio de datos](../modules/modulesfiles/datarepoconnect_tabs.png) Este módulo está disponible para los usuarios con niveles de administrador global y supervisor. ## Importar datos ### Opciones compartidas Independientemente del servicio que haya seleccionado, se le ofrecerán las siguientes opciones: + **Límite**: El número máximo de resultados que se pueden recuperar en un solo lote. Si observa errores o datos que faltan, intente reducir este número. Aumentarlo puede acelerar las importaciones. (Este campo es obligatorio. El valor predeterminado es 100). + **Prueba de importación**: si se marca, el conector SOLO importará el número de resultados indicado en el campo Límite anterior. Esto es útil para obtener una vista previa de la asignación de metadatos desde la fuente a Omeka S y para garantizar que la conexión funciona. + **Importar archivos a Omeka S**: si se marca, los medios asociados a un registro se importarán a Omeka S. Si no se marca, no se incluirá ningún medio en la importación. + **Comentario**: una nota sobre el propósito o la fuente de esta importación. Aparecerá en la página Importaciones anteriores y puede ser útil para realizar un seguimiento de su progreso.
+ **Conjuntos de elementos**: los conjuntos de elementos en los que se importarán los elementos. + **Sitios**: los sitios en los que se importarán los elementos. Es posible que aquí aparezca un sitio predeterminado. Una vez que haya rellenado estos campos, así como los específicos de la opción que haya seleccionado, haga clic en «Enviar».

### Dataverse ![La pantalla de importación de Dataverse que muestra las opciones que se enumeran a continuación.](../modules/modulesfiles/datarepoconnect_options.png) Si selecciona Dataverse, verá una pantalla con las siguientes opciones: + **URL principal de Dataverse**: La URL del sitio principal de Dataverse. (Este campo es obligatorio).
+ **Identificador de Dataverse**: El identificador del Dataverse desde el que se va a importar. Si se deja en blanco, se importarán todos los conjuntos de datos de la **URL principal de Dataverse**, lo que podría suponer un gran volumen. + **Formato de metadatos**: El formato de metadatos que se va a exportar desde Dataverse. Las opciones para Dataverse son «dcterms», «oai_dc» y «schema.org». El formato debe existir como [vocabulario](../content/vocabularies.md) en su instancia de Omeka antes de la importación, que puede recuperar de [purl.org](http://purl.org/dc/elements/1.1/){target=_blank} y [schema.org](https://schema.org/docs/developers.html){target=_blank}. (Este campo es obligatorio). ### Zenodo Si selecciona Zenodo, verá una pantalla con las siguientes opciones: + **ID de la comunidad Zenodo**: la cadena corta que identifica desde qué comunidad Zenodo se va a importar. Se encuentra en la URL después de «https://zenodo.org/communities/» y antes de cualquier parámetro de búsqueda. (Este campo es obligatorio).
+ **Formato de metadatos**: El formato de metadatos que se exportará desde Zenodo. La única opción para Zenodo es «oai_dc». El formato debe existir como [vocabulario](../content/vocabularies.md) en su instancia de Omeka antes de la importación, que puede recuperar de [purl.org](http://purl.org/dc/elements/1.1/){target=_blank}. (Este campo es obligatorio).

### Invenio ![La pantalla de importación de Invenio, que muestra las opciones que se enumeran a continuación.](../modules/modulesfiles/datarepoconnect_invenio.png) Si selecciona Invenio, verá una pantalla con las siguientes opciones: + **URL principal de Invenio**: La URL del sitio principal de Invenio. (Este campo es obligatorio).
+ **Consulta de búsqueda**: un término que reducirá los resultados importados. Si se deja en blanco, se importarán todos los conjuntos de datos de la **URL principal de Invenio**, lo que podría suponer un gran volumen. Puede utilizar la [sintaxis de consulta de ElasticSearch](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-your-data.html){target=_blank}. Ejemplos: «oceanografía», «access_right:open». ### CKAN Si selecciona CKAN, debería ver una pantalla con las siguientes opciones: + **URL principal de CKAN**: La URL del sitio principal de Dataverse. (Este campo es obligatorio).
+ **Organización CKAN**: El identificador de la organización CKAN desde la que se va a importar. Si se deja en blanco, se importarán todos los conjuntos de datos de la **URL principal de CKAN**, lo que podría suponer un gran volumen.

### Compruebe el estado de la importación Después de pulsar «Enviar», se le redirigirá a la página Importaciones anteriores, donde aparecerá su trabajo de importación más reciente en una barra verde en la parte superior de la página. Puede realizar un seguimiento del estado de la importación recargando la página Importaciones anteriores o haciendo clic en la página Trabajos que se encuentra en la sección Admin de la navegación de la izquierda.

!!! Nota ¿Sus trabajos se inician pero no se completan? Es posible que tenga que [configurar la ruta de PHP](../configuration.md#php-path) para que su sistema pueda realizar el proceso en segundo plano para crear los elementos. ## Revisar las importaciones Haga clic en Conector del repositorio de datos en el panel de navegación izquierdo del panel de administración, lo que le llevará a la página Importaciones anteriores.

La tabla de importaciones anteriores incluye: - columnas para **deshacer** y *repetir** trabajos anteriores, - el **ID del trabajo** para la importación, - el enlace al **repositorio de datos** proporcionado originalmente (que muestra cuál de las cuatro fuentes se utilizó), 
- cualquier **Comentario** realizado durante la importación, - el número de **Elementos** afectados (separados por **Añadidos** y **Actualizados**), - la **Fecha** de la importación, - el **Estado** de la importación, y - el **Propietario** que inició la importación.

![Pantalla que muestra las importaciones anteriores del conector del repositorio de datos](../modules/modulesfiles/datarepoconnect_pastimports.png) Si una importación concreta se ha deshecho o se ha vuelto a ejecutar, la columna «Estado» lo indicará. Puede ver un subconjunto de los elementos afectados de cada trabajo haciendo clic en el enlace «Total» debajo de la columna «Elementos».

### Actualizar recursos importados Para actualizar los recursos creados con el conector del repositorio de datos, simplemente «vuelva a ejecutar» una importación desde la misma fuente. Los recursos se actualizarán, no se volverán a importar. Esto le permite utilizar el conector para sincronizar datos entre sus repositorios de datos y la instalación de Omeka S. 

Vaya a la página Importaciones anteriores. En la columna «Volver a ejecutar», marque la casilla de cada importación que desee actualizar y, a continuación, pulse «Enviar». !!! Nota: Al volver a ejecutar una importación, se borrarán todas las modificaciones de metadatos que haya realizado en los elementos desde la importación original.

### Deshacer una importación Puede deshacer una importación completada y eliminar todos los elementos asociados en cualquier momento. Esto borrará por completo esos elementos y cualquier edición de metadatos que haya realizado en ellos. Vaya a la página Importaciones anteriores. En la columna «Deshacer», marque la casilla de cada importación que desee deshacer y, a continuación, haga clic en «Enviar». 
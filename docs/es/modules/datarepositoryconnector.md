# Conector de repositorios de datos El módulo [Conector de repositorios de datos](https://omeka.org/s/modules/DataRepositoryConnector/){target=_blank} permite a los usuarios importar registros y/o archivos de datos de varias plataformas de repositorios de datos diferentes: Dataverse, Zenodo, Invenio y CKAN. Una vez importados, estos elementos pueden actualizarse en cualquier momento volviendo a ejecutar la importación original desde la página Importaciones anteriores. El conector de repositorios de datos añade una entrada en el menú Módulos de la izquierda. Al hacer clic en el nombre del módulo o en el icono del signo más situado a la izquierda, el menú se ampliará para mostrar enlaces a las cuatro opciones de importación. Por defecto, el módulo se abre en la página Importaciones anteriores. (../modules/modulesfiles/datarepoconnect_tabs.png) Este módulo está disponible para usuarios de los niveles Administrador global y Supervisor. ## Importar datos ### Opciones compartidas Independientemente del servicio que haya seleccionado, se le ofrecerán las siguientes opciones: + **Límite**: El número máximo de resultados a recuperar en un solo lote. Si observa errores o que faltan datos, intente reducir este número. Si lo aumenta, las importaciones serán más rápidas. (Este campo es obligatorio. Por defecto es 100.) + **Prueba de importación**: Si se marca, Connector SOLO importará el número de resultados indicado en el campo Límite anterior. Esto es útil para previsualizar el mapeo de metadatos del origen a Omeka S, y para asegurar que la conexión funciona. + **Importar archivos a Omeka S**: Si se marca, los medios asociados a un registro se importarán a Omeka S. Si no, no se incluirá ningún medio en la importación. + **Comentario**: Una nota sobre el propósito o la fuente de esta importación. Aparecerá en la página de importaciones anteriores y puede ser útil para seguir su progreso. + **Conjuntos de artículos**: Conjuntos de artículos en los que importar artículos. + **Sitios**: Los sitios a los que importar los artículos. Es posible que aquí aparezca un sitio predeterminado. Una vez que haya rellenado estos campos, así como los específicos de la opción que haya seleccionado, haga clic en "Enviar". ### Dataverse ![La pantalla de importación de Dataverse que muestra las opciones enumeradas a continuación.](../modules/modulesfiles/datarepoconnect_options.png) Si selecciona Dataverse, verá una pantalla con las siguientes opciones: + ** URL principal de Dataverse**: La URL del sitio Dataverse principal. (Este campo es obligatorio.) + **Dataverse Identifier**: El identificador del Dataverse del que se va a importar. Si se deja en blanco, se importarán todos los conjuntos de datos bajo la **URL principal del Dataverse**, que podría ser grande. + **Formato de metadatos**: El formato de metadatos a exportar desde Dataverse. Las opciones para Dataverse son "dcterms", "oai_dc" y "schema.org". El formato debe existir como [vocabulary](../content/vocabularies.md) en su instancia de Omeka antes de la importación, que puede recuperar de [purl.org](http://purl.org/dc/elements/1.1/){target=_blank} y [schema.org](https://schema.org/docs/developers.html){target=_blank}. (Este campo es obligatorio.) ### Zenodo Si selecciona Zenodo, verá una pantalla con las siguientes opciones: + **Zenodo Community ID**: La cadena corta que identifica de qué comunidad Zenodo importar. Se encuentra en la URL después de "https://zenodo.org/communities/" y antes de cualquier parámetro de búsqueda. (Este campo es obligatorio.) + **Formato de metadatos**: El formato de metadatos a exportar desde Zenodo. La única opción para Zenodo es "oai_dc". El formato debe existir como [vocabulary](../content/vocabularies.md) en su instancia de Omeka antes de la importación, que puede recuperar de [purl.org](http://purl.org/dc/elements/1.1/){target=_blank}. (Este campo es obligatorio.) ### ¡Invenio![La pantalla de importación de Invenio](../modules/modulesfiles/datarepoconnect_invenio.png) Si seleccionas Invenio, verás una pantalla con las siguientes opciones: + **Main Invenio URL**: La URL del sitio principal de Invenio. (Este campo es obligatorio.) + **Consulta de búsqueda**: Un término que limitará los resultados importados. Si está en blanco, se importarán todos los conjuntos de datos bajo la **URL principal de Invenio**, que podrían ser grandes. Puede utilizar la [sintaxis de consulta de ElasticSearch](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-your-data.html){target=_blank}. Ejemplos: "oceanography", "access_right:open". ### CKAN Si selecciona CKAN, debería ver una pantalla con las siguientes opciones: + **Main CKAN URL**: La URL del sitio principal del Dataverse. (Este campo es obligatorio.) + **CKAN Organization**: El identificador de la organización CKAN desde la que se va a importar. Si está en blanco, se importarán todos los conjuntos de datos bajo la **URL principal de CKAN**, lo que podría ser muy grande. ### Comprobar el estado de la importación Después de pulsar "Enviar", accederá a la página de importaciones anteriores, donde su trabajo de importación más reciente aparecerá en una barra verde en la parte superior de la página. Puede comprobar el estado de la importación volviendo a cargar la página Importaciones anteriores o haciendo clic en la página Trabajos que se encuentra en la sección Admin de la barra de navegación de la izquierda. !!! nota ¿Sus trabajos se inician y no se completan? Puede que necesite [configurar la ruta para PHP](../configuration.md#php-path) para que su sistema pueda realizar el proceso en segundo plano para realizar los ítems. ## Revisar las importaciones Haga clic en Conector de repositorios de datos en la navegación de la izquierda del panel de administración, lo que hará que aparezca la página Importaciones pasadas. La tabla de importaciones pasadas incluye: 

- columnas para **Deshacer** y *Rejecutar** trabajos pasados, - el **ID del trabajo** para la importación, - el enlace al **Repositorio de datos** suministrado originalmente (mostrando cuál de las cuatro fuentes se utilizó), - cualquier **Comentario** realizado durante la importación, - el número de **Items** afectados (separados por **Agregado** y **Actualizado**), - la **Fecha** de la importación, - el **Estado** de la importación, y - el **Propietario** que inició la importación.

la pantalla que muestra las importaciones pasadas del conector del repositorio de datos](../modules/modulesfiles/datarepoconnect_pastimports.png) Si una importación concreta se ha deshecho o se ha vuelto a ejecutar, la columna "Estado" lo indicará. Puede ver un subconjunto de los elementos afectados de cada trabajo haciendo clic en el enlace "Total" bajo la columna "Elementos". ### Actualizar recursos importados Para actualizar recursos creados utilizando el Conector de repositorios de datos, simplemente "vuelva a ejecutar" una importación desde la misma fuente. Los recursos se actualizarán, no se volverán a importar. Esto te permite usar el Conector para sincronizar datos entre tus repositorios de datos y la instalación de Omeka S. 

Ve a la página Importaciones anteriores. En la columna "Reejecutar", marca la casilla de cada importación que desees actualizar y pulsa "Enviar". 

nota Al volver a ejecutar una importación se borrará cualquier modificación de metadatos que haya realizado en los elementos desde la importación original. ### Deshacer una importación Puede deshacer una importación completada y eliminar todos los elementos asociados en cualquier momento. Esto borrará completamente esos elementos y cualquier edición de metadatos que haya realizado en ellos. 

Vaya a la página de importaciones anteriores. En la columna "Deshacer", marque la casilla de cada importación que desee deshacer y haga clic en "Enviar"
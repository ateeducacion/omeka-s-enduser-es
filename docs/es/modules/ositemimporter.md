# Importador de elementos de Omeka S El módulo [Importador de elementos de Omeka S](https://omeka.org/s/modules/Osii){target=_blank} permite importar elementos de una instalación de Omeka S a otra instalación de Omeka S. Este importador puede duplicar elementos, sus medios y sus conjuntos de elementos, pero no puede duplicar la información del sitio o de la página. 

La transferencia de datos de una instalación a otra crea una situación en la que existe un potencial significativo de pérdida de datos, pero una planificación y preparación cuidadosas por parte del usuario de la instalación receptora pueden evitar que esto ocurra. ## Prepararse para la importación Para minimizar la pérdida de datos, la instalación local debe prepararse cuidadosamente para aceptar los datos de la instalación proveedora. En la medida de lo posible, el administrador de la instalación receptora debe trabajar para recrear el modelo de datos de la instalación remota. Para ello, el administrador deberá: - Importar los [vocabularios] de datos enlazados(../content/vocabularies.md) que utilicen los ítems de la instalación remota. - [Instalar y configurar módulos](../modules/index.md) que controlen los tipos de datos utilizados como valores en los ítems de la instalación remota, tales como: 
     - [Vocabulario personalizado](customvocab.md): Además de instalar este módulo, el administrador tendrá que crear listas de valores de vocabulario personalizadas que coincidan con las utilizadas en la instalación remota - [Tipos de datos numéricos](numericdatatypes.md) - [Sugerencia de valores](valuesuggest.md) - [Importar cualquier plantilla de recursos](../content/resource-template.md#import-a-resource-template) utilizadas por la instalación remota. - Instalar y activar los ingesters de medios utilizados originalmente por la instalación remota, como [File Sideload](filesideload.md). - [Comprobar que los módulos que consumen muchos recursos, como Extract Text, están configurados para una importación masiva](extracttext.md) (es decir, desactivar Tesseract para el reconocimiento de imágenes, y otros extractores, hasta que se realice la ingesta, a continuación, utilizarlo en lotes más pequeños más tarde). 

Una vez creada toda esta infraestructura, la instalación local está lista para empezar a importar elementos. ## Añadir una importación Inicie el proceso de importación haciendo clic en el botón "Añadir una importación" de la página de inicio del módulo en la interfaz administrativa. Se le presentarán dos tipos de opciones de configuración: remota y local. ### Configuración remota **Root endpoint (obligatorio)**: Introduzca el punto final de la API de la instalación desde la que desea importar. Para encontrar el "Root endpoint" tendrá que navegar hasta la instalación y sustituir la parte de la URL que incluye y viene después de "/s/" por "/api". Por ejemplo, cambie esta URL: 

`http://your-domain-name.edu/omeka-s/s/sitename/page/home` por `http://your-domain-name.edu/omeka-s/api/` Si haces clic en una URL de API, puede que veas algo como esto: ``` {"errors":{"error": "El recurso de solicitud de API debe ser una cadena. Type \u0022NULL\u0022 given."}} ``` Aunque se trate de un error, esta URL es el endpoint raíz. 

**Query**: Tiene la opción de incluir una "Query" para filtrar los elementos a importar. Si no proporciona una consulta, el módulo importará todos los elementos **públicos** de la instalación remota; esto incluirá elementos que no forman parte de un sitio público. Una forma de generar una consulta es realizando una búsqueda avanzada en el sitio remoto. Una vez cargados los resultados, puede seleccionar la parte de la URL situada a la derecha del signo "?" para obtener la cadena de consulta. 

**Key Identity** y **Key Credential**: Si desea importar recursos marcados como **privados**, deberá proporcionar una "Identidad de clave" y una "Credencial de clave" generadas por la instalación base. La única forma de obtener estas cadenas es teniendo una cuenta en la instalación remota o pidiéndoselas a alguien que tenga una cuenta. ### Configuración local **Import Label (required)**: Introduzca una etiqueta identificativa para la importación. Puede ser el nombre de la organización remota u otra forma que le ayude a recordar esta conexión. **Conjunto de elementos**: Si lo desea, seleccione uno o más conjuntos de artículos a los que se asignarán los artículos importados. **Excluir medios**: Marque esta casilla si desea que la importación excluya los medios. Si no se marca, los medios se importarán normalmente. Si decide cambiar esta configuración más adelante, tendrá que tomar una nueva instantánea y procesar una nueva importación para que se produzcan esos cambios. No hay capacidad para la sincronización automática continua de datos. **Excluir conjuntos de elementos**: Marque esta casilla si desea que la importación excluya conjuntos de artículos (dentro de los parámetros de su consulta, si se establece una consulta). Si no se marca, los conjuntos de elementos de la instalación remota se importarán normalmente. 

**Mantener recursos eliminados**: Marque esta casilla si, durante la importación, desea conservar los recursos locales de una importación anterior que se eliminaron de la instantánea remota actual. Si esta opción está seleccionada, los recursos eliminados permanecerán localmente pero ya no serán gestionados por esta importación. Si no se marca, los recursos eliminados se borrarán localmente de forma normal. **Añadir URL de sitio remoto**: Si desea indicar el origen general del elemento importado, introduzca la URL del sitio del que proceden los recursos importados. Si se introduce, se añadirá a cada recurso importado y se guardará como valor utilizando la propiedad `osii:source_site`. Puede que desee utilizar una URL de sitio Omeka específica, como `http://your-domain-name.edu/omeka-s/s/sitename/`, en lugar de la URL de la instalación base; pero tenga en cuenta que todos los elementos se importarán con este enlace tanto si forman parte de un sitio como si no. 

**Añadir URL de recurso remoto**: Marque esta opción si desea añadir la URL canónica del elemento remoto a cada elemento importado, guardada como valor mediante la propiedad `osii:source_resource`. Esto proporcionará un enlace directo al elemento original a través de la API, en la forma `http://your-domain-name.edu/omeka-s/api/items/1234`, en lugar de un enlace a una página de visualización de elementos en un sitio concreto. 

Guarde sus opciones de configuración haciendo clic en el botón "Enviar" situado en la esquina superior derecha de la interfaz. Una vez configurada esta importación, se guardará para futuras ediciones y actualizaciones. 

añadir formulario de configuración de importación con los datos rellenados para el punto final raíz, la consulta, la etiqueta de importación, el conjunto de elementos y la URL del sitio remoto](../modules/modulesfiles/osii_ConfigureImportFormWithData.png "Add Import configuration form with data filled in for root endpoint, query, import label, item set and remote site URL") ## Gestionar importaciones Una vez configurada una importación, el usuario accede a una interfaz con tres áreas: - **Área de mapeo**: proporciona opciones para mapear los datos de la instalación remota a la instalación local - **Acciones de importación**: proporciona las opciones de acción para el proceso de importación y ofrece acceso a los resultados de dichas acciones - **Metadatos de importación**: muestra las opciones de configuración para la importación.

Tras la configuración inicial de una importación, el usuario encontrará un mensaje en el área principal de la interfaz que dice "Preparar importación no está disponible ahora" 

![Import is successfully added result screen with Import Actions and Import Metadata sections in the right sidebar](../modules/modulesfiles/osii_ImportSuccessfullyAdded.png "Import is successfully added result screen with Import Actions and Import Metadata sections in the right sidebar") ### Tome la instantánea Vaya a la sección Acciones de importación de la barra lateral. La sección "Acciones de importación" contiene la mayoría de las acciones que necesitará para ejecutar y solucionar correctamente una importación. Haga clic en el enlace **Tomar instantánea** y en el botón de confirmación subsiguiente para tomar una instantánea de los recursos actuales de la instalación remota. Esto recopilará los datos necesarios para importar los recursos y reconciliar la instalación local con la remota. 

(../modules/modulesfiles/osii_TakeS.png "Import actions section of right sidebar with Take Snapshot link highlighted with a red rectangle") El indicador de estado de la instantánea cambiará de "[n/a]" a "En curso" La importación puede tardar algún tiempo en función del alcance del universo que se vaya a examinar. Puede hacer clic en el enlace "Actualizar estado" para comprobar el progreso. Si el Estado cambia a "Error", puede hacer clic en "Ver trabajo" para inspeccionar el procesamiento de la instantánea. (../modules/modulesfiles/osii_SnapshotInProgress.png "Import actions section with snapshot Status as In Progress") Tiene la opción de "Detener la instantánea" si lo desea. El Estado de la instantánea cambiará a "Deteniendo" Haz clic en "Actualizar estado" hasta que el Estado haya cambiado a "Detenida" Una vez que hayas realizado correctamente una instantánea, el Estado cambiará a "Completada" y el panel principal de la interfaz contendrá bastantes metadatos sobre la instantánea. Utilícelos para conciliar las diferencias entre las instalaciones remota y local, en la medida en que lo desee. ### Preparar la importación Situada en el panel principal de la interfaz, el área de Mapeo proporciona a los usuarios una interfaz para especificar los elementos de los datos para la importación. La interfaz con pestañas ofrece una comparación entre la información de la instalación remota y la configuración de los datos locales. Utilice este tiempo entre la instantánea y la importación completa para perfeccionar su instalación local y capturar toda la información posible de la importación. 

- **Pestaña Recursos**: Esta vista ofrece una visión general de los recursos dentro del universo de importación tanto en la instalación remota como en la instalación local. (../modules/modulesfiles/osii_ManageImportOverview.png "Gestionar tabla de visión general de importación con pestañas para Recursos, Tipos de datos, Plantillas, Ingestores de medios, Propiedades y Clases") - **Pestaña de tipos de datos**: Esta vista ofrece una vista de los tipos de datos remotos y su recuento de valores. El usuario puede seleccionar de un menú desplegable los tipos de datos disponibles localmente (por ejemplo, literal, resource, URI, `numeric:timestamp`) para asignar la instalación local a la remota. Si descubre que hay tipos de datos disponibles remotamente que no están disponibles localmente, deberá añadirlos a su instalación antes de continuar para evitar la pérdida de datos. Si un tipo de datos remoto no se asigna a uno local, los valores no se importarán. Los tipos de datos pueden añadirse mediante módulos como [Numeric Data Types](numericdatatypes.md) y [Value Suggest](valuesuggest.md) - **Pestaña Plantillas**: Esta vista muestra las plantillas de recursos remotos y su recuento. El usuario puede seleccionar de un menú desplegable las plantillas de recursos disponibles localmente para asignar la instalación local a la instalación remota. Tenga en cuenta que la instalación local puede duplicar las plantillas remotas realizando [exportaciones e importaciones](../content/resource-template.md#share-resource-templates). Este puede ser un buen momento para crear o modificar plantillas para reflejar mejor los elementos que desea importar. 

- pestaña **Ingresores de medios**: Esta vista muestra una lista de los ingesters de medios remotos y si están disponibles en la instalación local. Los medios sólo se importarán si su ingester está disponible. Tenga en cuenta que algunos de estos ingesters pueden añadirse instalando y activando módulos, como [File Sideload](filesideload.md). 

- **Pestaña Propiedades**: Esta vista incluye una lista de las propiedades remotas y si se encuentran en la instalación local. Los valores sólo se importarán si sus respectivas propiedades se encuentran en la instalación local. Si encuentra que hay propiedades disponibles remotamente que no están disponibles localmente, necesitará [añadir sus vocabularios a su instalación](../content/vocabularies.md#add-a-vocabulary) antes de proceder para evitar la pérdida de datos. Ten en cuenta que es posible que veas algunas propiedades en rojo en la instalación remota: algunas que no estaban disponibles en versiones anteriores o que han quedado obsoletas en versiones posteriores del vocabulario. Puede que necesites encontrar e instalar la misma versión específica de ese vocabulario en tu instalación local. 

gestionar tabla de importación con tabla de inventario de propiedades con dos cuadros rectangulares rojos resaltados que muestran las propiedades presentes y no presentes en la instalación local](../modules/modulesfiles/osii_PropertyInventory.png "Gestionar tabla de importación con tabla de inventario de propiedades con dos cuadros rectangulares rojos resaltados que muestran las propiedades presentes y no presentes en la instalación local") - **Pestaña Clases**: Esta vista muestra una lista de las clases remotas y si están instaladas en la instalación local. En caso contrario, los elementos se importarán sin clases. Si encuentra que hay clases disponibles remotamente que no están disponibles localmente, deberá añadirlas a su instalación antes de continuar para evitar la pérdida de datos. Las clases se añaden a través de [vocabularies](../content/vocabularies.md). Ten en cuenta que puede que veas algunas clases en rojo en la instalación remota - algunas que no estaban disponibles en versiones anteriores o que han quedado obsoletas en versiones posteriores del vocabulario. Puede que necesites encontrar e instalar la misma versión específica de ese vocabulario en tu instalación local. 

Una vez asignados los elementos del modelo de datos, haga clic en el botón "Enviar" situado en la esquina superior derecha de la página. Recibirá un mensaje de confirmación de que la importación se ha preparado correctamente. 

### Una vez visualizados los recursos remotos, puede modificar la instantánea si lo desea, volviendo a la primera página de configuración. 

Por ejemplo, si desea importar sólo los elementos dentro de un conjunto de elementos en particular que aparecieron en la instantánea, utilice el campo Consulta para limitar los elementos encontrados en ese conjunto de elementos. Puede construir estas consultas de limitación utilizando la búsqueda avanzada que se encuentra en los sitios remotos. 

Una vez hecho esto, tome una nueva instantánea. Debería ver un número diferente de recursos en el "Recuento de valores remotos". 

### Importe la instantánea Debajo de la información de la instantánea en el panel de acciones Importar, encontrará la información Importar. Inicialmente, el estado de la importación debería ser [n/a]. Haga clic en el enlace "Importar instantánea" para iniciar la importación. Al igual que con el proceso de creación de instantáneas, el estado de la importación cambiará a "En curso" y puede tardar algún tiempo en completarse. Haga clic en el enlace "Actualizar estado" para comprobar el progreso. Del mismo modo, puede detener una importación en curso haciendo clic en "Detener importación". Si el estado cambia a "Error", puedes hacer clic en el enlace "Ver trabajo" para revisar el problema y cualquier mensaje de registro. (../modules/modulesfiles/osii_ImportSnapshot. png "Import action secton of the right sidebar with the Import Snapshot link highlighted by a red rectangle](../modules/modulesfiles/osii_ImportSnapshot.png "Import action secton of the right sidebar with the Import Snapshot link highlighted by a red rectangle") Una vez que el estado de la importación llegue a "Completado", podrá hacer clic en "Ver elementos", "Ver medios" o "Ver conjuntos de elementos" desde la importación. Además, la importación completada recibirá una marca de tiempo indicando el momento de la importación. ## Revisitar una importación Una vez que haya lanzado con éxito una importación, la pantalla principal del módulo listará esa acción en una tabla de importaciones intentadas. Esa tabla incluye la etiqueta de la importación, el punto final raíz, el estado de la instantánea, el estado de la importación y el propietario de la importación. ### Editar una importación Aunque técnicamente una importación haya tenido éxito, es posible que haya sufrido alguna pérdida de datos debido al mapeo entre la instalación remota y la instalación local. Puede editar la importación para remediar esa pérdida de datos. Comience el proceso de edición haciendo clic en el icono del lápiz situado a la derecha de la etiqueta de importación que desee. A continuación, tendrá la oportunidad de actualizar sus configuraciones, volver a tomar la instantánea, actualizar las asignaciones y volver a ejecutar la importación. ### Repetir una importación Puede que tenga que volver a ejecutar una importación para capturar nuevos recursos de la instalación remota. En este caso, puede editar la importación para volver a tomar la instantánea y ejecutar una nueva importación. La importación no es una sincronización bidireccional, por lo que los cambios realizados en los elementos locales no se trasladan a los elementos remotos. Tenga en cuenta también que el módulo no conserva los cambios locales después de importaciones posteriores. Los elementos importados siempre reflejarán su estado en la instalación remota en el momento de la instantánea. **No ejecute una importación posterior si necesita conservar los cambios locales.** Puede iniciar el nuevo proceso de importación haciendo clic en el icono del lápiz situado a la derecha de la etiqueta de la importación elegida. A continuación, tendrá la oportunidad de actualizar sus configuraciones. Después de enviar sus configuraciones, puede realizar el proceso de tomar una nueva instantánea de la instalación remota, actualizar o confirmar sus asignaciones y volver a ejecutar su importación. Esta nueva importación de la instantánea importará nuevos recursos y actualizará los recursos existentes con los cambios de la instalación remota